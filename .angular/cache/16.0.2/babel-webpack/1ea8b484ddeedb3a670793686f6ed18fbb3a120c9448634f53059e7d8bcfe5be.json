{"ast":null,"code":"import { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/familyMember.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/button\";\nimport * as i5 from \"@angular/material/card\";\nfunction SearchComponent_mat_card_0_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"mat-card\", 9)(2, \"mat-card-content\")(3, \"span\", 10);\n    i0.ɵɵelement(4, \"span\", 11);\n    i0.ɵɵelementStart(5, \"span\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelement(7, \"br\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const member_r2 = ctx.$implicit;\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate2(\" \", member_r2.firstName, \" \", member_r2.lastName, \" \");\n  }\n}\nfunction SearchComponent_mat_card_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 1)(1, \"mat-card-content\")(2, \"div\", 2)(3, \"span\", 3)(4, \"h2\");\n    i0.ɵɵtext(5, \"Search Members\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"span\", 4)(7, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function SearchComponent_mat_card_0_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.onAddNewFamily());\n    });\n    i0.ɵɵtext(8, \"Add New Family\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵelement(10, \"br\");\n    i0.ɵɵelementStart(11, \"div\")(12, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function SearchComponent_mat_card_0_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onSearch());\n    });\n    i0.ɵɵtext(13, \"Search All\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(14, \"div\", 7);\n    i0.ɵɵtemplate(15, SearchComponent_mat_card_0_div_15_Template, 8, 2, \"div\", 8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.members);\n  }\n}\nclass SearchComponent {\n  constructor(familyMemberService, router) {\n    this.familyMemberService = familyMemberService;\n    this.router = router;\n    this.searchQuery = '';\n    this.pageMode = '';\n    this.displayedColumns = ['actions', 'firstName', 'fatherName', 'mobile', 'area', 'profession', 'bloodGroup', 'status'];\n    this.isLoading = true; // Track the loading state\n  }\n\n  ngOnInit() {\n    if (this.afterSaveOrUpdate && this.afterSaveOrUpdate !== \"false\") {\n      this.searchAfterSaveOrUpdate();\n    } else {\n      this.onSearch();\n    }\n  }\n  ngAfterViewInit() {}\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    //this.dataSource.filter = filterValue.trim().toLowerCase();\n    // if (this.dataSource.paginator) {\n    //   this.dataSource.paginator.firstPage();\n    // }\n  }\n\n  onSearch() {\n    this.isLoading = true; // Show progress bar\n    this.familyMemberService.getAllFamiliesForDefaultSearch().subscribe({\n      next: data => {\n        this.members = data;\n        if (this.members !== undefined) {\n          //this.dataSource = new MatTableDataSource(this.members);\n          //this.dataSource.paginator = this.paginator;\n          //this.dataSource.sort = this.sort;\n          this.isLoading = false;\n        }\n        // console.log(data);\n      },\n\n      error: e => {\n        console.error(e);\n        this.isLoading = false; // Hide progress bar on error\n      }\n    });\n  }\n\n  searchAfterSaveOrUpdate() {\n    this.isLoading = true; // Show progress bar\n    this.familyMemberService.getFamilyByMemberId(this.memberIdAfterSaveOrUpdate).subscribe({\n      next: data => {\n        this.members = data.members;\n        if (this.members !== undefined) {\n          // this.dataSource = new MatTableDataSource(this.members);\n          // this.dataSource.paginator = this.paginator;\n          // this.dataSource.sort = this.sort;\n          this.isLoading = false;\n        }\n        //console.log(data);\n      },\n\n      error: e => {\n        console.error(e);\n        this.isLoading = false; // Hide progress bar on error\n      }\n    });\n  }\n\n  onViewDetails(id) {\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/view', id]);\n  }\n  onAddNewFamily() {\n    this.pageMode = 'create';\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/create-update-member', {\n      id: 0,\n      pageMode: this.pageMode\n    }]);\n  }\n  onAddNewMember(memberId) {\n    this.pageMode = 'create';\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/create-update-member', {\n      id: memberId,\n      pageMode: this.pageMode\n    }]);\n  }\n  onEditMember(memberId) {\n    this.pageMode = 'edit';\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/create-update-member', {\n      id: memberId,\n      pageMode: this.pageMode\n    }]);\n  }\n}\nSearchComponent.ɵfac = function SearchComponent_Factory(t) {\n  return new (t || SearchComponent)(i0.ɵɵdirectiveInject(i1.FamilyMemberService), i0.ɵɵdirectiveInject(i2.Router));\n};\nSearchComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: SearchComponent,\n  selectors: [[\"app-search\"]],\n  viewQuery: function SearchComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(MatPaginator, 5);\n      i0.ɵɵviewQuery(MatSort, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.paginator = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.sort = _t.first);\n    }\n  },\n  inputs: {\n    afterSaveOrUpdate: \"afterSaveOrUpdate\",\n    memberIdAfterSaveOrUpdate: \"memberIdAfterSaveOrUpdate\"\n  },\n  decls: 1,\n  vars: 1,\n  consts: [[\"appearance\", \"raised\", \"class\", \"card-layout1\", 4, \"ngIf\"], [\"appearance\", \"raised\", 1, \"card-layout1\"], [1, \"single-line\", \"expand-width\"], [1, \"font-color-primary\"], [1, \"add-family-style\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", 1, \"primary-button-style\", 3, \"click\"], [\"mat-raised-button\", \"\", \"color\", \"secondary\", \"type\", \"submit\", 1, \"search-elments-button-style\", 3, \"click\"], [1, \"\"], [\"class\", \"\", 4, \"ngFor\", \"ngForOf\"], [\"appearance\", \"outlined\", 1, \"action-card\"], [1, \"align-row-left-right\", \"card-layout2\"], [1, \"img-padding\"]],\n  template: function SearchComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, SearchComponent_mat_card_0_Template, 16, 1, \"mat-card\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.isLoading);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.MatButton, i5.MatCard, i5.MatCardContent],\n  styles: [\".single-line[_ngcontent-%COMP%]{\\n    display: flex; \\n    flex-direction: row;\\n    justify-content: space-between;\\n    overflow-x: hidden;\\n}\\n\\n.loading-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center; \\n    align-items: center;     \\n    height: 100vh;           \\n    width: 100vw;            \\n    position: absolute;      \\n    top: 0;\\n    left: 0;\\n    background-color: rgba(255, 255, 255, 0.8); \\n    z-index: 1000;           \\n  }\\n\\n.expand-width[_ngcontent-%COMP%] {\\n    width: 100%;\\n}\\n\\n.search-elments-style[_ngcontent-%COMP%]{\\n    padding-left: 1%;\\n    padding-right: 1%;\\n    width: 30%;\\n}\\n\\n.search-elments-button-style[_ngcontent-%COMP%]{\\n    background-color: white !important;\\n    color: #66548e !important;\\n}\\n\\n.table-layout[_ngcontent-%COMP%] {\\n    overflow-x: auto;\\n}\\n\\n.table-style[_ngcontent-%COMP%] {\\n    \\n    color: #66548e !important;\\n}\\n\\n.table-header[_ngcontent-%COMP%] {\\n    white-space: nowrap;\\n}\\n\\n.add-family-style[_ngcontent-%COMP%]{\\n    \\n}\\n\\n.filter-style[_ngcontent-%COMP%]{\\n    padding-top: 2%;\\n    width: 100%;\\n}\\n\\n.filter-input[_ngcontent-%COMP%] {\\n    background-color: white !important;\\n}\\n\\n\\n\\n  .mat-mdc-standard-chip.approved-chip .mdc-evolution-chip__text-label {\\n    color: #66548e !important; \\n}\\n\\n  .mat-mdc-standard-chip.pending-chip .mdc-evolution-chip__text-label {\\n    color: white !important; \\n}\\n\\n.approved-chip[_ngcontent-%COMP%] {\\n    background-color: #4caf50 !important; \\n}\\n\\n.pending-chip[_ngcontent-%COMP%] {\\n    background-color: #ff4444 !important; \\n}\\n\\n.actions-dropdown-style[_ngcontent-%COMP%]{\\n    width: 10%;\\n}\\n\\n.search-card[_ngcontent-%COMP%] {\\n    \\n    \\n    \\n    background-color: rgb(242, 242, 241);\\n}\\n\\n.card-layout1[_ngcontent-%COMP%] {\\n    background-color: #fef5f5;\\n    border-radius: 20px;\\n}\\n\\n.card-layout2[_ngcontent-%COMP%] {\\n    \\n    border-radius: 20px;\\n}\\n\\n.primary-button-style[_ngcontent-%COMP%] {\\n    background-color: #ede5ff !important;\\n    color: #66548e !important;\\n}\\n\\n.font-color-primary[_ngcontent-%COMP%] {\\n    color: #66548e !important;\\n}\\n\\n.action-card[_ngcontent-%COMP%] {\\n    background-color: white !important;\\n    border-radius: 20px;\\n    width: -webkit-fill-available;\\n  }\\n\\n  .align-row-left-right[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: space-around;\\n    align-items: center;\\n    \\n    \\n    \\n    \\n}\\n\\n.rounded-photo[_ngcontent-%COMP%] {\\n    border-radius: 50% !important;\\n    width: 200px;\\n    height: 200px;\\n    object-fit: cover; \\n  }\\n\\n  .img-padding[_ngcontent-%COMP%]{\\n    padding-left: 5%;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQiw4QkFBOEI7SUFDOUIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHVCQUF1QixFQUFFLHdCQUF3QjtJQUNqRCxtQkFBbUIsTUFBTSxzQkFBc0I7SUFDL0MsYUFBYSxZQUFZLGdDQUFnQztJQUN6RCxZQUFZLGFBQWEsK0JBQStCO0lBQ3hELGtCQUFrQixPQUFPLGtEQUFrRDtJQUMzRSxNQUFNO0lBQ04sT0FBTztJQUNQLDBDQUEwQyxFQUFFLCtDQUErQztJQUMzRixhQUFhLFlBQVkseUNBQXlDO0VBQ3BFOztBQUVGO0lBQ0ksV0FBVztBQUNmOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGlCQUFpQjtJQUNqQixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxrQ0FBa0M7SUFDbEMseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksMENBQTBDO0lBQzFDLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLHVCQUF1QjtBQUMzQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxrQ0FBa0M7QUFDdEM7O0FBRUE7Ozs7Ozs7O0dBUUc7O0FBRUg7SUFDSSx5QkFBeUIsRUFBRSw0QkFBNEI7QUFDM0Q7O0FBRUE7SUFDSSx1QkFBdUIsRUFBRSw0QkFBNEI7QUFDekQ7O0FBRUE7SUFDSSxvQ0FBb0MsRUFBRSxxQkFBcUI7QUFDL0Q7O0FBRUE7SUFDSSxvQ0FBb0MsRUFBRSxtQkFBbUI7QUFDN0Q7O0FBRUE7SUFDSSxVQUFVO0FBQ2Q7O0FBRUE7SUFDSSwwQ0FBMEM7SUFDMUMsMENBQTBDO0lBQzFDLCtCQUErQjtJQUMvQixvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksK0JBQStCO0lBQy9CLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG9DQUFvQztJQUNwQyx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSxrQ0FBa0M7SUFDbEMsbUJBQW1CO0lBQ25CLDZCQUE2QjtFQUMvQjs7RUFFQTtJQUNFLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsNkJBQTZCO0lBQzdCLG1CQUFtQjtJQUNuQiwrQkFBK0I7SUFDL0I7MEJBQ3NCO0lBQ3RCLG9DQUFvQztJQUNwQyxxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSw2QkFBNkI7SUFDN0IsWUFBWTtJQUNaLGFBQWE7SUFDYixpQkFBaUI7RUFDbkI7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyIuc2luZ2xlLWxpbmV7XG4gICAgZGlzcGxheTogZmxleDsgXG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgb3ZlcmZsb3cteDogaGlkZGVuO1xufVxuXG4ubG9hZGluZy1jb250YWluZXIge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IC8qIENlbnRlciBob3Jpem9udGFsbHkgKi9cbiAgICBhbGlnbi1pdGVtczogY2VudGVyOyAgICAgLyogQ2VudGVyIHZlcnRpY2FsbHkgKi9cbiAgICBoZWlnaHQ6IDEwMHZoOyAgICAgICAgICAgLyogRnVsbCBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0ICovXG4gICAgd2lkdGg6IDEwMHZ3OyAgICAgICAgICAgIC8qIEZ1bGwgd2lkdGggb2YgdGhlIHZpZXdwb3J0ICovXG4gICAgcG9zaXRpb246IGFic29sdXRlOyAgICAgIC8qIEFic29sdXRlIHBvc2l0aW9uaW5nIHRvIGNvdmVyIHRoZSBlbnRpcmUgcGFnZSAqL1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgMC44KTsgLyogT3B0aW9uYWw6IEFkZCBhIGJhY2tncm91bmQgdG8gZGltIHRoZSBwYWdlICovXG4gICAgei1pbmRleDogMTAwMDsgICAgICAgICAgIC8qIEVuc3VyZSBpdCdzIG9uIHRvcCBvZiBvdGhlciBlbGVtZW50cyAqL1xuICB9XG5cbi5leHBhbmQtd2lkdGgge1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4uc2VhcmNoLWVsbWVudHMtc3R5bGV7XG4gICAgcGFkZGluZy1sZWZ0OiAxJTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAxJTtcbiAgICB3aWR0aDogMzAlO1xufVxuXG4uc2VhcmNoLWVsbWVudHMtYnV0dG9uLXN0eWxle1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6ICM2NjU0OGUgIWltcG9ydGFudDtcbn1cblxuLnRhYmxlLWxheW91dCB7XG4gICAgb3ZlcmZsb3cteDogYXV0bztcbn1cblxuLnRhYmxlLXN0eWxlIHtcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiAjZWRlNWZmICFpbXBvcnRhbnQ7ICovXG4gICAgY29sb3I6ICM2NjU0OGUgIWltcG9ydGFudDtcbn1cblxuLnRhYmxlLWhlYWRlciB7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLmFkZC1mYW1pbHktc3R5bGV7XG4gICAgLyogcGFkZGluZy1sZWZ0OiA3MCU7ICovXG59XG5cbi5maWx0ZXItc3R5bGV7XG4gICAgcGFkZGluZy10b3A6IDIlO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4uZmlsdGVyLWlucHV0IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xufVxuXG4vKiAuYXBwcm92ZWQtY2hpcHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjllYjkzICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6ICM2NjU0OGUgIWltcG9ydGFudDtcbn1cblxuLnBlbmRpbmctY2hpcHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmY0NDQ0ICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6IHdoaXRlICFpbXBvcnRhbnQ7XG59ICovXG5cbjo6bmctZGVlcCAubWF0LW1kYy1zdGFuZGFyZC1jaGlwLmFwcHJvdmVkLWNoaXAgLm1kYy1ldm9sdXRpb24tY2hpcF9fdGV4dC1sYWJlbCB7XG4gICAgY29sb3I6ICM2NjU0OGUgIWltcG9ydGFudDsgLyogT3ZlcnJpZGUgdGhlIHRleHQgY29sb3IgKi9cbn1cblxuOjpuZy1kZWVwIC5tYXQtbWRjLXN0YW5kYXJkLWNoaXAucGVuZGluZy1jaGlwIC5tZGMtZXZvbHV0aW9uLWNoaXBfX3RleHQtbGFiZWwge1xuICAgIGNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50OyAvKiBPdmVycmlkZSB0aGUgdGV4dCBjb2xvciAqL1xufVxuXG4uYXBwcm92ZWQtY2hpcCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzRjYWY1MCAhaW1wb3J0YW50OyAvKiBHcmVlbiBiYWNrZ3JvdW5kICovXG59XG5cbi5wZW5kaW5nLWNoaXAge1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjQ0NDQgIWltcG9ydGFudDsgLyogUmVkIGJhY2tncm91bmQgKi9cbn1cblxuLmFjdGlvbnMtZHJvcGRvd24tc3R5bGV7XG4gICAgd2lkdGg6IDEwJTtcbn1cblxuLnNlYXJjaC1jYXJkIHtcbiAgICAvKiBiYWNrZ3JvdW5kLWNvbG9yOiByZ2IoMjUyLCAyNTIsIDI1Mik7ICovXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogcmdiKDIzMywgMjMyLCAyMzIpOyAqL1xuICAgIC8qIGJhY2tncm91bmQtY29sb3I6ICNlN2U3ZTc7ICovXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI0MiwgMjQyLCAyNDEpO1xufVxuXG4uY2FyZC1sYXlvdXQxIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVmNWY1O1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG59XG5cbi5jYXJkLWxheW91dDIge1xuICAgIC8qIGJhY2tncm91bmQtY29sb3I6ICNmZWY1ZjU7ICovXG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcbn1cblxuLnByaW1hcnktYnV0dG9uLXN0eWxlIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWRlNWZmICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6ICM2NjU0OGUgIWltcG9ydGFudDtcbn1cblxuLmZvbnQtY29sb3ItcHJpbWFyeSB7XG4gICAgY29sb3I6ICM2NjU0OGUgIWltcG9ydGFudDtcbn1cblxuLmFjdGlvbi1jYXJkIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZSAhaW1wb3J0YW50O1xuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gICAgd2lkdGg6IC13ZWJraXQtZmlsbC1hdmFpbGFibGU7XG4gIH1cblxuICAuYWxpZ24tcm93LWxlZnQtcmlnaHQge1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IHJvdztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIC8qIGJhY2tncm91bmQtY29sb3I6ICNmZmYzZjM7ICovXG4gICAgLyogYmFja2dyb3VuZC1jb2xvcjogI2ZlZjVmNTs7XG4gICAgYm9yZGVyLXJhZGl1czogMjBweDsgKi9cbiAgICAvKiBFbnN1cmUgY29udGVudCBkb2Vzbid0IG92ZXJmbG93ICovXG4gICAgLyogZmxleC13cmFwOiB3cmFwOyAqL1xufVxuXG4ucm91bmRlZC1waG90byB7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDIwMHB4O1xuICAgIGhlaWdodDogMjAwcHg7XG4gICAgb2JqZWN0LWZpdDogY292ZXI7IFxuICB9XG5cbiAgLmltZy1wYWRkaW5ne1xuICAgIHBhZGRpbmctbGVmdDogNSU7XG4gIH0iXSwic291cmNlUm9vdCI6IiJ9 */\"],\n  changeDetection: 0\n});\nexport { SearchComponent };","map":{"version":3,"names":["MatPaginator","MatSort","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate2","member_r2","firstName","lastName","ɵɵlistener","SearchComponent_mat_card_0_Template_button_click_7_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","onAddNewFamily","SearchComponent_mat_card_0_Template_button_click_12_listener","ctx_r5","onSearch","ɵɵtemplate","SearchComponent_mat_card_0_div_15_Template","ɵɵproperty","ctx_r0","members","SearchComponent","constructor","familyMemberService","router","searchQuery","pageMode","displayedColumns","isLoading","ngOnInit","afterSaveOrUpdate","searchAfterSaveOrUpdate","ngAfterViewInit","applyFilter","event","filterValue","target","value","getAllFamiliesForDefaultSearch","subscribe","next","data","undefined","error","e","console","getFamilyByMemberId","memberIdAfterSaveOrUpdate","onViewDetails","id","navigate","onAddNewMember","memberId","onEditMember","ɵɵdirectiveInject","i1","FamilyMemberService","i2","Router","selectors","viewQuery","SearchComponent_Query","rf","ctx","SearchComponent_mat_card_0_Template"],"sources":["/Users/sanyamlodha/Personal/Samta/code/demo-heroku/demo-heroku-ui/demo-heroku-ui/src/app/search/search.component.ts","/Users/sanyamlodha/Personal/Samta/code/demo-heroku/demo-heroku-ui/demo-heroku-ui/src/app/search/search.component.html"],"sourcesContent":["import {AfterViewInit, OnInit, Component, ViewChild, ChangeDetectionStrategy, Input} from '@angular/core';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatSort} from '@angular/material/sort';\nimport {MatTableDataSource, MatTableModule} from '@angular/material/table';\nimport { TutorialService } from 'src/app/services/tutorial.service';\nimport { FamilyMemberService } from 'src/app/services/familyMember.service';\nimport { Member } from 'src/app/models/Member.model';\nimport { Router } from '@angular/router';\nimport { FamilyMember } from '../models/FamilyMember.model';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SearchComponent implements OnInit, AfterViewInit{\n\n  @Input()\n  afterSaveOrUpdate!: any;\n  @Input() memberIdAfterSaveOrUpdate!: string;\n  searchQuery: string = '';\n  members?: Member[];\n  member?: Member;\n  pageMode: string = '';\n  dataSource!: MatTableDataSource<Member>;\n  displayedColumns: string[] = ['actions', 'firstName', 'fatherName', 'mobile', 'area', 'profession', 'bloodGroup', 'status'];\n  isLoading = true;  // Track the loading state\n\n  @ViewChild(MatPaginator)\n  paginator!: MatPaginator;\n  @ViewChild(MatSort)\n  sort!: MatSort;\n  constructor(\n    private familyMemberService: FamilyMemberService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void{\n    if(this.afterSaveOrUpdate && this.afterSaveOrUpdate !== \"false\"){\n      this.searchAfterSaveOrUpdate();\n    }else{\n      this.onSearch();\n    }\n  }\n\n  ngAfterViewInit() {\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    //this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    // if (this.dataSource.paginator) {\n    //   this.dataSource.paginator.firstPage();\n    // }\n  }\n\n  onSearch() {\n    this.isLoading = true;  // Show progress bar\n    this.familyMemberService.getAllFamiliesForDefaultSearch().subscribe({\n      next: (data) => {\n        this.members = data;\n        if(this.members !== undefined){\n        //this.dataSource = new MatTableDataSource(this.members);\n        //this.dataSource.paginator = this.paginator;\n        //this.dataSource.sort = this.sort;\n        this.isLoading = false;\n        }\n       // console.log(data);\n      },\n      error: (e) => {\n        console.error(e);\n        this.isLoading = false;  // Hide progress bar on error\n      }\n    });\n  }\n\n  searchAfterSaveOrUpdate() {\n    this.isLoading = true;  // Show progress bar\n    this.familyMemberService.getFamilyByMemberId(this.memberIdAfterSaveOrUpdate).subscribe({\n      next: (data) => {\n        this.members = data.members;\n        if(this.members !== undefined){\n        // this.dataSource = new MatTableDataSource(this.members);\n        // this.dataSource.paginator = this.paginator;\n        // this.dataSource.sort = this.sort;\n        this.isLoading = false;\n        }\n        //console.log(data);\n      },\n      error: (e) => {\n        console.error(e);\n        this.isLoading = false;  // Hide progress bar on error\n      }\n    });\n  }\n\n  onViewDetails(id: string) {\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/view', id]);\n  }\n\n  onAddNewFamily() {\n    this.pageMode = 'create';\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/create-update-member', {id: 0, pageMode: this.pageMode}]);\n  }\n\n  onAddNewMember(memberId: string) {\n    this.pageMode = 'create';\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/create-update-member', {id: memberId, pageMode: this.pageMode}]);\n  }\n\n  onEditMember(memberId: string) {\n    this.pageMode = 'edit';\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/create-update-member', {id: memberId, pageMode: this.pageMode}]);\n  }\n}","<!-- <div class=\"loading-container\" *ngIf=\"isLoading\">\n    <mat-spinner></mat-spinner>\n</div> -->\n<mat-card *ngIf=\"!isLoading\" appearance=\"raised\" class=\"card-layout1\">\n    <mat-card-content>\n        <div class=\"single-line expand-width\">\n            <span class=\"font-color-primary\"> <h2>Search Members</h2></span>\n            <span class=\"add-family-style\">\n                <button mat-raised-button color=\"primary\" class=\"primary-button-style\" (click)=\"onAddNewFamily()\">Add New Family</button>\n            </span>\n        </div>\n        <div>\n            <br>\n            <div>\n                <button class=\"search-elments-button-style\" mat-raised-button color=\"secondary\" (click)=\"onSearch()\" type=\"submit\">Search All</button>\n            </div>\n        </div>\n       \n        <!-- <div>\n            <mat-form-field class=\"filter-style\">\n                <mat-label>Filter</mat-label>\n                <input matInput (keyup)=\"applyFilter($event)\" placeholder=\"Ex. Jain\" #input>\n            </mat-form-field>\n        </div> -->\n\n        <div class=\"\">\n            <div *ngFor=\"let member of members\" class=\"\">\n                <mat-card class=\"action-card\" appearance=\"outlined\">\n                    <mat-card-content>\n                        \n                            <span class=\"align-row-left-right card-layout2\">\n                                <span class=\"img-padding\">\n                                    <!-- <img class=\"rounded-photo\" mat-card-lg-image *ngIf=\"member.photo\" [src]=\"'data:image/jpeg;base64,' + member.photo\" alt=\"Photo\" width=\"20\" height=\"20\"> -->\n                                </span>\n                                <span>\n                                    {{member.firstName}} {{member.lastName}}\n                                </span>\n                            </span>\n                        \n                    </mat-card-content>\n                  </mat-card>\n                  <br>\n            </div>\n            \n            <!-- <mat-paginator [pageSizeOptions]=\"[5, 10, 25, 100]\" aria-label=\"Select page of users\"></mat-paginator> -->\n        </div>\n    </mat-card-content>\n  </mat-card>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { MatTableDataSource } from '@angular/material/table';\nlet AllsearchComponent = class AllsearchComponent {\n  constructor(familyMemberService, router) {\n    this.familyMemberService = familyMemberService;\n    this.router = router;\n    this.searchQuery = '';\n    this.pageMode = '';\n    this.displayedColumns = ['actions', 'firstName', 'fatherName', 'mobile', 'area', 'profession', 'bloodGroup', 'status'];\n    this.isLoading = true; // Track the loading state\n  }\n\n  ngOnInit() {\n    this.onSearch();\n  }\n  ngAfterViewInit() {}\n  applyFilter(event) {\n    const filterValue = event.target.value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n  onSearch() {\n    this.isLoading = true; // Show progress bar\n    this.familyMemberService.getAllFamiliesForDefaultSearch().subscribe({\n      next: data => {\n        this.members = data;\n        if (this.members !== undefined) {\n          this.dataSource = new MatTableDataSource(this.members);\n          this.dataSource.paginator = this.paginator;\n          this.dataSource.sort = this.sort;\n          this.isLoading = false;\n        }\n        // console.log(data);\n      },\n\n      error: e => {\n        console.error(e);\n        this.isLoading = false; // Hide progress bar on error\n      }\n    });\n  }\n\n  onViewDetails(id) {\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/view', id]);\n  }\n};\n__decorate([ViewChild(MatPaginator)], AllsearchComponent.prototype, \"paginator\", void 0);\n__decorate([ViewChild(MatSort)], AllsearchComponent.prototype, \"sort\", void 0);\nAllsearchComponent = __decorate([Component({\n  selector: 'app-allsearch',\n  templateUrl: './allsearch.component.html',\n  styleUrls: ['./allsearch.component.css']\n})], AllsearchComponent);\nexport { AllsearchComponent };","map":{"version":3,"names":["Component","ViewChild","MatPaginator","MatSort","MatTableDataSource","AllsearchComponent","constructor","familyMemberService","router","searchQuery","pageMode","displayedColumns","isLoading","ngOnInit","onSearch","ngAfterViewInit","applyFilter","event","filterValue","target","value","dataSource","filter","trim","toLowerCase","paginator","firstPage","getAllFamiliesForDefaultSearch","subscribe","next","data","members","undefined","sort","error","e","console","onViewDetails","id","navigate","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/sanyamlodha/Personal/Samta/code/demo-heroku/demo-heroku-ui/demo-heroku-ui/src/app/allsearch/allsearch.component.ts"],"sourcesContent":["import {AfterViewInit, OnInit, Component, ViewChild, ChangeDetectionStrategy, Input} from '@angular/core';\nimport {MatPaginator} from '@angular/material/paginator';\nimport {MatSort} from '@angular/material/sort';\nimport {MatTableDataSource, MatTableModule} from '@angular/material/table';\nimport { TutorialService } from 'src/app/services/tutorial.service';\nimport { FamilyMemberService } from 'src/app/services/familyMember.service';\nimport { Member } from 'src/app/models/Member.model';\nimport { Router } from '@angular/router';\nimport { FamilyMember } from '../models/FamilyMember.model';\n@Component({\n  selector: 'app-allsearch',\n  templateUrl: './allsearch.component.html',\n  styleUrls: ['./allsearch.component.css']\n})\nexport class AllsearchComponent {\n\n  searchQuery: string = '';\n  members?: Member[];\n  member?: Member;\n  pageMode: string = '';\n  dataSource!: MatTableDataSource<Member>;\n  displayedColumns: string[] = ['actions', 'firstName', 'fatherName', 'mobile', 'area', 'profession', 'bloodGroup', 'status'];\n  isLoading = true;  // Track the loading state\n\n  @ViewChild(MatPaginator)\n  paginator!: MatPaginator;\n  @ViewChild(MatSort)\n  sort!: MatSort;\n  constructor(\n    private familyMemberService: FamilyMemberService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void{\n      this.onSearch();\n  }\n\n  ngAfterViewInit() {\n  }\n\n  applyFilter(event: Event) {\n    const filterValue = (event.target as HTMLInputElement).value;\n    this.dataSource.filter = filterValue.trim().toLowerCase();\n\n    if (this.dataSource.paginator) {\n      this.dataSource.paginator.firstPage();\n    }\n  }\n\n  onSearch() {\n    this.isLoading = true;  // Show progress bar\n    this.familyMemberService.getAllFamiliesForDefaultSearch().subscribe({\n      next: (data) => {\n        this.members = data;\n        if(this.members !== undefined){\n        this.dataSource = new MatTableDataSource(this.members);\n        this.dataSource.paginator = this.paginator;\n        this.dataSource.sort = this.sort;\n        this.isLoading = false;\n        }\n       // console.log(data);\n      },\n      error: (e) => {\n        console.error(e);\n        this.isLoading = false;  // Hide progress bar on error\n      }\n    });\n  }\n\n\n  onViewDetails(id: string) {\n    // Navigate to the view component and pass the id\n    this.router.navigate(['/view', id]);\n  }\n  \n}\n"],"mappings":";AAAA,SAA+BA,SAAS,EAAEC,SAAS,QAAuC,eAAe;AACzG,SAAQC,YAAY,QAAO,6BAA6B;AACxD,SAAQC,OAAO,QAAO,wBAAwB;AAC9C,SAAQC,kBAAkB,QAAuB,yBAAyB;AAW1E,IAAaC,kBAAkB,GAA/B,MAAaA,kBAAkB;EAc7BC,YACUC,mBAAwC,EACxCC,MAAc;IADd,KAAAD,mBAAmB,GAAnBA,mBAAmB;IACnB,KAAAC,MAAM,GAANA,MAAM;IAdhB,KAAAC,WAAW,GAAW,EAAE;IAGxB,KAAAC,QAAQ,GAAW,EAAE;IAErB,KAAAC,gBAAgB,GAAa,CAAC,SAAS,EAAE,WAAW,EAAE,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,YAAY,EAAE,QAAQ,CAAC;IAC3H,KAAAC,SAAS,GAAG,IAAI,CAAC,CAAE;EAShB;;EAEHC,QAAQA,CAAA;IACJ,IAAI,CAACC,QAAQ,EAAE;EACnB;EAEAC,eAAeA,CAAA,GACf;EAEAC,WAAWA,CAACC,KAAY;IACtB,MAAMC,WAAW,GAAID,KAAK,CAACE,MAA2B,CAACC,KAAK;IAC5D,IAAI,CAACC,UAAU,CAACC,MAAM,GAAGJ,WAAW,CAACK,IAAI,EAAE,CAACC,WAAW,EAAE;IAEzD,IAAI,IAAI,CAACH,UAAU,CAACI,SAAS,EAAE;MAC7B,IAAI,CAACJ,UAAU,CAACI,SAAS,CAACC,SAAS,EAAE;;EAEzC;EAEAZ,QAAQA,CAAA;IACN,IAAI,CAACF,SAAS,GAAG,IAAI,CAAC,CAAE;IACxB,IAAI,CAACL,mBAAmB,CAACoB,8BAA8B,EAAE,CAACC,SAAS,CAAC;MAClEC,IAAI,EAAGC,IAAI,IAAI;QACb,IAAI,CAACC,OAAO,GAAGD,IAAI;QACnB,IAAG,IAAI,CAACC,OAAO,KAAKC,SAAS,EAAC;UAC9B,IAAI,CAACX,UAAU,GAAG,IAAIjB,kBAAkB,CAAC,IAAI,CAAC2B,OAAO,CAAC;UACtD,IAAI,CAACV,UAAU,CAACI,SAAS,GAAG,IAAI,CAACA,SAAS;UAC1C,IAAI,CAACJ,UAAU,CAACY,IAAI,GAAG,IAAI,CAACA,IAAI;UAChC,IAAI,CAACrB,SAAS,GAAG,KAAK;;QAEvB;MACD,CAAC;;MACDsB,KAAK,EAAGC,CAAC,IAAI;QACXC,OAAO,CAACF,KAAK,CAACC,CAAC,CAAC;QAChB,IAAI,CAACvB,SAAS,GAAG,KAAK,CAAC,CAAE;MAC3B;KACD,CAAC;EACJ;;EAGAyB,aAAaA,CAACC,EAAU;IACtB;IACA,IAAI,CAAC9B,MAAM,CAAC+B,QAAQ,CAAC,CAAC,OAAO,EAAED,EAAE,CAAC,CAAC;EACrC;CAED;AAlDCE,UAAA,EADCvC,SAAS,CAACC,YAAY,CAAC,C,oDACC;AAEzBsC,UAAA,EADCvC,SAAS,CAACE,OAAO,CAAC,C,+CACJ;AAbJE,kBAAkB,GAAAmC,UAAA,EAL9BxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWtC,kBAAkB,CA6D9B;SA7DYA,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}